<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>سنی گرافیک</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-body: #0e1621;
            --menu-color: #ffffff;
            --اصفر: #FFD700;
            --font-main: 'Vazirmatn', sans-serif;
            --icon-size: 26px; 
        }

        body {
            background: var(--bg-body);
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
            font-family: var(--font-main);
            color: white;
            -webkit-tap-highlight-color: transparent;
        }

        .content-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            padding-bottom: 100px;
        }

        .card {
            background: rgba(255, 255, 255, 0.07);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-right: 5px solid var(--اصفر); 
            padding: 20px;
            border-radius: 24px;
            max-width: 380px;
            width: 85%;
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            display: none;
            max-height: 65vh;
            overflow-y: auto;
            animation: popIn 0.5s cubic-bezier(0.26, 0.53, 0.74, 1.48) forwards;
        }

        .card.active { display: block; }
        .card h2 { color: var(--اصفر); font-size: 1.5rem; margin-bottom: 15px; text-align: right; }

        .grid-layout { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        
        .juz-header {
            grid-column: span 2;
            text-align: center;
            color: var(--اصفر);
            font-size: 1rem;
            font-weight: 700;
            padding: 20px 0 5px 0;
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .juz-header::after {
            content: '';
            width: 50%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--اصفر), transparent);
            margin-top: 8px;
            opacity: 0.6;
        }

        .page-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 14px;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: 0.3s;
        }

        .page-item.selected {
            border-color: var(--اصفر);
            background: rgba(255, 215, 0, 0.15);
        }
        .page-item.selected .page-title { color: var(--اصفر); }

        .page-item .info { display: flex; flex-direction: column; text-align: right; }
        .page-item .page-title { font-size: 0.85rem; font-weight: 700; }
        .page-item .page-sub { font-size: 0.65rem; color: rgba(255, 255, 255, 0.5); margin-top: 4px; }
        .arrow-icon { font-size: 0.7rem; color: var(--اصفر); }

        /* استایل جدید لینک‌ها */
        .links-container {
            grid-column: span 2;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 10px;
            display: none; 
            flex-direction: row; 
            justify-content: space-between; 
            gap: 10px;
            margin-top: -5px;
            margin-bottom: 5px;
        }

        .link-column {
            display: flex;
            flex-direction: column;
            gap: 6px;
            flex: 1;
        }

        .btn-link { 
            padding: 10px; 
            border-radius: 8px; 
            text-align: center; 
            font-size: 0.75rem; 
            font-weight: bold; 
            text-decoration: none; 
            color: white; 
            transition: 0.2s;
        }

        .btn-link:active { transform: scale(0.95); }

        /* منوی پایین */
        .nav-wrapper { filter: url('#goo'); position: fixed; bottom: 0; left: 0; right: 0; width: 100%; max-width: 400px; margin: 0 auto; display: flex; justify-content: center; z-index: 1000; padding-bottom: env(safe-area-inset-bottom); }
        .nav { width: 90%; height: 70px; background: var(--menu-color); border-radius: 25px 25px 0 0; position: relative; }
        .nav ul { display: flex; width: 100%; list-style: none; padding: 0; margin: 0; z-index: 20; position: relative; }
        .nav ul li { flex: 1; height: 70px; }
        .nav ul li a { display: flex; justify-content: center; align-items: center; flex-direction: column; width: 100%; height: 100%; cursor: pointer; text-decoration: none; }
        .icon-svg { width: var(--icon-size); height: var(--icon-size); color: #555; transition: 0.5s; z-index: 30; }
        .list.active a .icon-svg { transform: translateY(-40px); color: #000; }
        .text { position: absolute; font-size: 0.75rem; font-weight: 700; color: #333; transition: 0.5s; opacity: 0; transform: translateY(20px); }
        .list.active a .text { opacity: 1; transform: translateY(15px); }
        .indicator { position: absolute; top: -35px; width: 20%; display: flex; justify-content: center; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .indicator::after { content: ''; width: 60px; height: 60px; background: var(--اصفر); border-radius: 50%; box-shadow: 0 0 0 8px var(--menu-color); }
        
        .list:nth-child(1).active ~ .indicator { right: 0%; }
        .list:nth-child(2).active ~ .indicator { right: 20%; }
        .list:nth-child(3).active ~ .indicator { right: 40%; }
        .list:nth-child(4).active ~ .indicator { right: 60%; }
        .list:nth-child(5).active ~ .indicator { right: 80%; }

        @keyframes popIn { 0% { opacity: 0; transform: scale(0.9) translateY(20px); } 100% { opacity: 1; transform: scale(1) translateY(0); } }
    </style>
</head>
<body>

    <div class="content-area">
        <div id="card-0" class="card active"><h2>سنی گرافیک</h2><p>خوش آمدید.</p></div>
        <div id="card-1" class="card"><h2>انتخاب صفحه</h2><div id="pages-list" class="grid-layout"></div></div>
        <div id="card-2" class="card"><h2>انتخاب جزء</h2><div id="juz-list" class="grid-layout"></div></div>
        <div id="card-3" class="card"><h2>تنظیمات</h2></div>
        <div id="card-4" class="card"><h2>درباره ما</h2></div>
    </div>

    <div class="nav-wrapper">
        <div class="nav">
            <ul>
                <li class="list active" onclick="move(0)"><a><div class="icon-svg"><svg viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 19v-8.5a1 1 0 0 0-.4-.8l-7-5.25a1 1 0 0 0-1.2 0l-7 5.25a1 1 0 0 0-.4.8V19a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1"/></svg></div><span class="text">خانه</span></a></li>
                <li class="list" onclick="move(1)"><a><div class="icon-svg"><svg viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9.8V20m0-10.2c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.31-1.311C14.28 5 15.12 5 16.8 5h2.6c.56 0 .84 0 1.054.109c.188.096.34.249.437.437C21 5.76 21 6.04 21 6.6v8.8c0 .56 0 .84-.11 1.054a1 1 0 0 1-.436.437c-.213.109-.493.109-1.052.109h-2.833c-.939 0-1.41 0-1.836.13a3 3 0 0 0-1.032.552c-.344.283-.605.674-1.126 1.455L12 20m0-10.2c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C9.72 5 8.88 5 7.2 5H4.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C3 5.76 3 6.04 3 6.6v8.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C3.76 17 4.039 17 4.598 17h2.833c.939 0 1.408 0 1.835.13c.377.114.73.302 1.034.552c.343.282.602.67 1.118 1.446L12 20"/></svg></div><span class="text">صفحه</span></a></li>
                <li class="list" onclick="move(2)"><a><div class="icon-svg"><svg viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 19.5V6.2c0-1.12 0-1.68.218-2.108c.192-.377.497-.682.874-.874C6.52 3 7.08 3 8.2 3h9.2c.56 0 .84 0 1.055.109a1 1 0 0 1 .436.437C19 3.76 19 4.04 19 4.6v11.8c0 .56 0 .84-.11 1.054a1 1 0 0 1-.435.437C18.24 18 17.96 18 17.402 18H7.25A2.25 2.25 0 0 0 5 20.25c0 .414.336.75.75.75h10.652c.559 0 .84 0 1.053-.109a1 1 0 0 0 .436-.437C18 20.24 18 19.96 18 19.4V18"/></svg></div><span class="text">جزء</span></a></li>
                <li class="list" onclick="move(3)"><a><div class="icon-svg"><svg viewBox="0 0 24 24"><path d="m20.35 8.923l-.366-.204l-.113-.064a2 2 0 0 1-.67-.66c-.018-.027-.034-.056-.066-.112a2 2 0 0 1-.3-1.157l.006-.425c.012-.68.018-1.022-.078-1.328a2 2 0 0 0-.417-.736c-.214-.24-.511-.412-1.106-.754l-.494-.285c-.592-.341-.889-.512-1.204-.577a2 2 0 0 0-.843.007c-.313.07-.606.246-1.191.596l-.003.002l-.354.211c-.056.034-.085.05-.113.066c-.278.155-.588.24-.907.25c-.032.002-.065.002-.13.002l-.13-.001a2 2 0 0 1-.91-.252c-.028-.015-.055-.032-.111-.066l-.357-.214c-.589-.354-.884-.53-1.199-.601a2 2 0 0 0-.846-.006c-.316.066-.612.238-1.205.582l-.003.001l-.488.283l-.005.004c-.588.34-.883.512-1.095.751a2 2 0 0 0-.415.734c-.095.307-.09.649-.078 1.333l.007.424c0 .065.003.097.002.128a2 2 0 0 1-.301 1.027c-.033.056-.048.084-.065.11a2 2 0 0 1-.675.664l-.112.063l-.361.2c-.602.333-.903.5-1.121.738a2 2 0 0 0-.43.73c-.1.307-.1.65-.099 1.338l.002.563c.001.683.003 1.024.104 1.329a2 2 0 0 0 .427.726c.218.236.516.402 1.113.734l.358.199c.061.034.092.05.121.068a2 2 0 0 1 .74.781l.067.12a2 2 0 0 1 .23 1.038l-.007.407c-.012.686-.017 1.03.079 1.337c.085.272.227.523.417.736c.214.24.512.411 1.106.754l.494.285c.593.341.889.512 1.204.577a2 2 0 0 0 .843-.007c.314-.07.607-.246 1.194-.598l.354-.212l.113-.066c.278-.154.588-.24.907-.25l.13-.001h.13c.318.01.63.097.91.252l.092.055l.376.226c.59.354.884.53 1.199.6a2 2 0 0 0 .846.008c.315-.066.613-.239 1.206-.583l.495-.287c.588-.342.883-.513 1.095-.752c.19-.213.33-.463.415-.734c.095-.305.09-.644.078-1.318l-.008-.44v-.127a2 2 0 0 1 .3-1.028l.065-.11a2 2 0 0 1 .675-.664l.11-.061l.002-.001l.361-.2c.602-.334.903-.5 1.122-.738c.194-.21.34-.46.429-.73c.1-.305.1-.647.098-1.327l-.002-.574c-.001-.683-.002-1.025-.103-1.33a2 2 0 0 0-.428-.725c-.217-.236-.515-.402-1.111-.733z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><circle cx="12" cy="12" r="3" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></div><span class="text">تنظیمات</span></a></li>
                <li class="list" onclick="move(4)"><a><div class="icon-svg"><svg viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.146 9.074a2.998 2.998 0 0 1 5.28-.838A3 3 0 0 1 12 13v1m0 7a9 9 0 1 1 0-18a9 9 0 0 1 0 18m.05-4v.1h-.1V17z"/></svg></div><span class="text">درباره ما</span></a></li>
                <div class="indicator"></div>
            </ul>
        </div>
    </div>

    <svg style="display:none;"><defs><filter id="goo"><feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" /><feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -10" result="goo" /><feBlend in="SourceGraphic" in2="goo" /></filter></defs></svg>

    <script src="data.js"></script>
    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        tg.headerColor = '#0e1621';

        function move(index) {
            tg.HapticFeedback.impactOccurred('light');
            const list = document.querySelectorAll('.list');
            const cards = document.querySelectorAll('.card');
            
            list.forEach(item => item.classList.remove('active'));
            list[index].classList.add('active');

            cards.forEach(card => card.classList.remove('active'));
            document.getElementById('card-' + index).classList.add('active');

            if(index === 1 && typeof loadPages === 'function') loadPages();
        }
    </script>
</body>
</html>
